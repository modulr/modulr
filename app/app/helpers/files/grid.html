<div loading="loading">
  <div class="row">
    <div class="col-sm-4 col-md-3 mdr-file-dad-sm">
      <mdr-file url="{{urlAPI}}/file/uploadInFolder/{{currentFolderId}}" headers="{authorization: token}" model="file" multiple="uploadMultiple" formats="uploadFormats" text="{{uploadText}}"></mdr-file>
    </div>
    <div class="col-sm-4 col-md-3" ng-repeat="item in foldersAndFiles">
      <div class="thumbnail" ng-click="view(item)">
        <!-- Icon Folder -->
        <a href="" class="back" ng-click="openFolder(item)" ng-if="!item.type">
          <i class="fa fa-folder-o fa-5x" aria-hidden="true"></i>
        </a>
        <!-- Icon File -->
        <a class="back" href="{{storageUrl}}/{{item.folderId}}/{{item.file}}" target="_blank" ng-if="item.type && !item.image">
          <i class="fa fa-5x" aria-hidden="true" ng-class="{
            'fa-file-pdf-o': item.type == 'application/pdf',
            'fa-file-powerpoint-o': item.type == 'application/vnd.ms-powerpoint',
            'fa-file-excel-o': item.type == 'application/vnd.ms-excel',
            'fa-file-word-o': item.type == 'application/msword',
            'fa-file-archive-o': item.type == 'application/zip',
            'fa-file-text-o': item.type !== 'application/pdf'
          }"></i>
        </a>
        <!-- Thumnail -->
        <a href="" data-mfp-src="{{storageUrl}}/{{item.folderId}}/{{item.file}}" class="back image-link" ng-if="item.type && item.image">
          <img ng-src="{{storageUrl}}/{{item.folderId}}/{{item.file}}" alt="{{item.name}}">
        </a>

        <div class="caption">
          <p>{{item.name | limitTo : 12}}<span ng-if="item.name.length > 12">...</span></p>
          <p>
            <img ng-src="{{item.owner.avatar}}" class="img-circle avatar-sm" tooltip data-placement="bottom" data-title="Propietario" src="{{item.owner.avatar}}">
            <a class="btn btn-xs text-muted" href="{{storageUrl}}/{{item.folderId}}/{{item.file}}" tooltip data-placement="bottom" data-title="Descargar" target="_blank" download="{{item.name}}" ng-show="item.type">
              <i class="fa fa-link fa-lg" aria-hidden="true"></i>
            </a>
            <a href="" class="btn btn-xs text-muted" ng-show="item.shared.length>0">
              <i class="fa fa-share-alt fa-lg" aria-hidden="true" tooltip data-placement="bottom" data-title="Compartir"></i>
            </a>
            <a href="" class="btn btn-xs text-muted" ng-show="item.comments.length>0">
              <i class="fa fa-comment-o fa-lg" aria-hidden="true" tooltip data-placement="bottom" data-title="Comentarios"></i>
            </a>
            <a href="" class="btn btn-xs text-muted">
              <i class="fa fa-edit fa-lg" aria-hidden="true" tooltip data-placement="bottom" data-title="Editar"></i>
            </a>
          </p>
        </div>

      </div>
    </div>
  </div>
</div>
